{% extends 'base.html' %}
{% load static %}
{% load jformat %}
{% load humanize %}


{% block css %}
<link type="text/css" rel="stylesheet" href="{% static 'assets/css/jalalidatepicker.min.css' %}" />
<link rel="stylesheet" href="{% static 'taskflow/css/meeting_form.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/fonts.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}



{% block content %}
<div class="meeting-form" dir="rtl">
    <h2 class="text-center mb-4">{% if edit_mode %}ویرایش جلسه{% else %}ایجاد جلسه جدید{% endif %}</h2>
    <form method="post" id="meeting-form">
        {% csrf_token %}
        {% for field in form %}
        <div class="form-group">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}
            <div class="text-danger">
                {{ field.errors }}
            </div>
            {% endif %}
            {% if field.help_text %}
            <small class="form-text text-muted">{{ field.help_text }}</small>
            {% endif %}
        </div>
        {% endfor %}
        
        <div class="text-center" style="display: flex; justify-content: center; gap: 1rem;">
            <button type="submit" class="btn-submit">{% if edit_mode %}بروزرسانی جلسه{% else %}ایجاد جلسه{% endif %}</button>
            <button type="button" class="btn-cancel" onclick="history.back()">انصراف</button>
        </div>
    </form>
</div>


{% endblock %}


{% block js %}
<script type="text/javascript" src="{% static 'assets/js/jalalidatepicker.min.js' %}"></script>
<script>
    jalaliDatepicker.startWatch({
        minDate: "attr",
        maxDate: "attr",
        onSelect: function () {
            this.setAttribute('value', this.value);
        }
    });
</script>

{% endblock %}